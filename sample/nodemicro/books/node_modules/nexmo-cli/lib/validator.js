"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var Validator =
/*#__PURE__*/
function () {
  function Validator(emitter) {
    _classCallCheck(this, Validator);

    this.emitter = emitter;
  }

  _createClass(Validator, [{
    key: "response",
    value: function response(error, _response) {
      this.debug(error, _response);

      if (error && error.message) {
        this.emitter.error(error.message);
      } else if (error && error.body && error.body['error-code']) {
        this.emitter.error(error.body['error-code-label']);
      } else if (_response && _response['error-code'] && _response['error-code'] !== '200') {
        this.emitter.error(_response['error-code-label']);
      } else if (_response && _response['status'] && _response['status'] !== '0') {
        this.emitter.error(_response['status_message']);
      }
    }
  }, {
    key: "debug",
    value: function debug(error, response) {
      this.emitter.debugger('Validator.response() - Error: ');
      this.emitter.debugger(error);
      this.emitter.debugger('Validator.response() - Response: ');
      this.emitter.debugger(response);
      this.emitter.debugger('End Validator.response()');
    }
  }]);

  return Validator;
}();

var _default = Validator;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy92YWxpZGF0b3IuanMiXSwibmFtZXMiOlsiVmFsaWRhdG9yIiwiZW1pdHRlciIsImVycm9yIiwicmVzcG9uc2UiLCJkZWJ1ZyIsIm1lc3NhZ2UiLCJib2R5IiwiZGVidWdnZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7SUFBTUEsUzs7O0FBQ0oscUJBQVlDLE9BQVosRUFBcUI7QUFBQTs7QUFDbkIsU0FBS0EsT0FBTCxHQUFlQSxPQUFmO0FBQ0Q7Ozs7NkJBRVFDLEssRUFBT0MsUyxFQUFVO0FBQ3hCLFdBQUtDLEtBQUwsQ0FBV0YsS0FBWCxFQUFrQkMsU0FBbEI7O0FBRUEsVUFBSUQsS0FBSyxJQUFJQSxLQUFLLENBQUNHLE9BQW5CLEVBQTRCO0FBQzFCLGFBQUtKLE9BQUwsQ0FBYUMsS0FBYixDQUFtQkEsS0FBSyxDQUFDRyxPQUF6QjtBQUNELE9BRkQsTUFFTyxJQUFJSCxLQUFLLElBQUlBLEtBQUssQ0FBQ0ksSUFBZixJQUF1QkosS0FBSyxDQUFDSSxJQUFOLENBQVcsWUFBWCxDQUEzQixFQUFxRDtBQUMxRCxhQUFLTCxPQUFMLENBQWFDLEtBQWIsQ0FBbUJBLEtBQUssQ0FBQ0ksSUFBTixDQUFXLGtCQUFYLENBQW5CO0FBQ0QsT0FGTSxNQUVBLElBQUlILFNBQVEsSUFBSUEsU0FBUSxDQUFDLFlBQUQsQ0FBcEIsSUFBc0NBLFNBQVEsQ0FBQyxZQUFELENBQVIsS0FBMkIsS0FBckUsRUFBNEU7QUFDakYsYUFBS0YsT0FBTCxDQUFhQyxLQUFiLENBQW1CQyxTQUFRLENBQUMsa0JBQUQsQ0FBM0I7QUFDRCxPQUZNLE1BRUEsSUFBSUEsU0FBUSxJQUFJQSxTQUFRLENBQUMsUUFBRCxDQUFwQixJQUFrQ0EsU0FBUSxDQUFDLFFBQUQsQ0FBUixLQUF1QixHQUE3RCxFQUFrRTtBQUN2RSxhQUFLRixPQUFMLENBQWFDLEtBQWIsQ0FBbUJDLFNBQVEsQ0FBQyxnQkFBRCxDQUEzQjtBQUNEO0FBQ0Y7OzswQkFFS0QsSyxFQUFPQyxRLEVBQVU7QUFDckIsV0FBS0YsT0FBTCxDQUFhTSxRQUFiLENBQXNCLGdDQUF0QjtBQUNBLFdBQUtOLE9BQUwsQ0FBYU0sUUFBYixDQUFzQkwsS0FBdEI7QUFDQSxXQUFLRCxPQUFMLENBQWFNLFFBQWIsQ0FBc0IsbUNBQXRCO0FBQ0EsV0FBS04sT0FBTCxDQUFhTSxRQUFiLENBQXNCSixRQUF0QjtBQUNBLFdBQUtGLE9BQUwsQ0FBYU0sUUFBYixDQUFzQiwwQkFBdEI7QUFDRDs7Ozs7O2VBR1lQLFMiLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBWYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3RvcihlbWl0dGVyKSB7XG4gICAgdGhpcy5lbWl0dGVyID0gZW1pdHRlcjtcbiAgfVxuXG4gIHJlc3BvbnNlKGVycm9yLCByZXNwb25zZSkge1xuICAgIHRoaXMuZGVidWcoZXJyb3IsIHJlc3BvbnNlKTtcblxuICAgIGlmIChlcnJvciAmJiBlcnJvci5tZXNzYWdlKSB7XG4gICAgICB0aGlzLmVtaXR0ZXIuZXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgfSBlbHNlIGlmIChlcnJvciAmJiBlcnJvci5ib2R5ICYmIGVycm9yLmJvZHlbJ2Vycm9yLWNvZGUnXSkge1xuICAgICAgdGhpcy5lbWl0dGVyLmVycm9yKGVycm9yLmJvZHlbJ2Vycm9yLWNvZGUtbGFiZWwnXSk7XG4gICAgfSBlbHNlIGlmIChyZXNwb25zZSAmJiByZXNwb25zZVsnZXJyb3ItY29kZSddICYmIHJlc3BvbnNlWydlcnJvci1jb2RlJ10gIT09ICcyMDAnKSB7XG4gICAgICB0aGlzLmVtaXR0ZXIuZXJyb3IocmVzcG9uc2VbJ2Vycm9yLWNvZGUtbGFiZWwnXSk7XG4gICAgfSBlbHNlIGlmIChyZXNwb25zZSAmJiByZXNwb25zZVsnc3RhdHVzJ10gJiYgcmVzcG9uc2VbJ3N0YXR1cyddICE9PSAnMCcpIHtcbiAgICAgIHRoaXMuZW1pdHRlci5lcnJvcihyZXNwb25zZVsnc3RhdHVzX21lc3NhZ2UnXSk7XG4gICAgfVxuICB9XG5cbiAgZGVidWcoZXJyb3IsIHJlc3BvbnNlKSB7XG4gICAgdGhpcy5lbWl0dGVyLmRlYnVnZ2VyKCdWYWxpZGF0b3IucmVzcG9uc2UoKSAtIEVycm9yOiAnKTtcbiAgICB0aGlzLmVtaXR0ZXIuZGVidWdnZXIoZXJyb3IpO1xuICAgIHRoaXMuZW1pdHRlci5kZWJ1Z2dlcignVmFsaWRhdG9yLnJlc3BvbnNlKCkgLSBSZXNwb25zZTogJyk7XG4gICAgdGhpcy5lbWl0dGVyLmRlYnVnZ2VyKHJlc3BvbnNlKTtcbiAgICB0aGlzLmVtaXR0ZXIuZGVidWdnZXIoJ0VuZCBWYWxpZGF0b3IucmVzcG9uc2UoKScpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFZhbGlkYXRvcjtcbiJdfQ==